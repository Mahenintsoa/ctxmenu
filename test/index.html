<!DOCTYPE html>
<html>

<head>
    <style>
        * {
            font-family: sans-serif;
        }
        html, body {
            height: 100%;
        }
    </style>
    <meta charset="utf8" />
    <script>
        document.addEventListener("readystatechange", function (event) {
            if (document.readyState === "complete") {

                ContextMenu.attach("html", [
                    {
                        href: "http://www.google.de",
                        text: "Google"
                    },
                    {
                        href: "http://www.google.de",
                        target: "_blank",
                        text: "Google (neuer Tab)"
                    }
                ], function (m, e) {
                    m.push({
                        text: "Coordinates: x"+e.offsetX+" y"+e.offsetY
                    });
                    return m;
                });
                ContextMenu.attach("h1", [
                    {
                        action: function () { alert("Clicked h1") },
                        text: "Heading"
                    }
                ]);
                //Should produce error because it already exists
                ContextMenu.attach("h1", []);
                //Should produce error because selector returns nothing
                ContextMenu.attach(".thisClassDoesNotExist", []);
                //Should silently add the not yet existing context menu.
                ContextMenu.update("p", []);
            }
        });
    </script>
    <script src="../lib/ctxMenu.js"></script>
</head>

<body>
    <h1 style="margin: auto;">ctxMenu.js</h1>
    <p>Lorem ipsum</p>
</body>

</html>